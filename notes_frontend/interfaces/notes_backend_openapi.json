{"openapi":"3.1.0","info":{"title":"Secure Notes API","description":"Backend API for a secure notes application with JWT authentication and user-scoped notes.","version":"1.0.0"},"paths":{"/":{"get":{"tags":["health"],"summary":"Health check","description":"Health check endpoint.","operationId":"health_check__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/signup":{"post":{"tags":["auth"],"summary":"Create a user account","description":"Creates a new user account with email + password.","operationId":"signup_auth_signup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["auth"],"summary":"Login and receive JWT tokens","description":"Validates credentials and returns access + refresh tokens.","operationId":"login_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/refresh":{"post":{"tags":["auth"],"summary":"Refresh access token","description":"Exchanges a valid refresh token for a new access token (and a new refresh token).","operationId":"refresh_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notes":{"get":{"tags":["notes"],"summary":"List notes (optionally search)","description":"Returns notes for the authenticated user. Use `q` to search by title/content.","operationId":"list_notes_notes_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search query over title/content.","title":"Q"},"description":"Search query over title/content."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Max number of notes to return.","default":100,"title":"Limit"},"description":"Max number of notes to return."},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Pagination offset.","default":0,"title":"Offset"},"description":"Pagination offset."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NoteOut"},"title":"Response List Notes Notes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["notes"],"summary":"Create a note","description":"Creates a new note for the authenticated user.","operationId":"create_note_notes_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/notes/{note_id}":{"get":{"tags":["notes"],"summary":"Get a note","description":"Returns a single note owned by the authenticated user.","operationId":"get_note_notes__note_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"integer","title":"Note Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["notes"],"summary":"Update a note","description":"Updates a note owned by the authenticated user.","operationId":"update_note_notes__note_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"integer","title":"Note Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["notes"],"summary":"Delete a note","description":"Deletes a note owned by the authenticated user.","operationId":"delete_note_notes__note_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"integer","title":"Note Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"User email address."},"password":{"type":"string","title":"Password","description":"User password."}},"type":"object","required":["email","password"],"title":"LoginRequest"},"Message":{"properties":{"message":{"type":"string","title":"Message","description":"Human readable message."}},"type":"object","required":["message"],"title":"Message"},"NoteCreate":{"properties":{"title":{"type":"string","maxLength":200,"title":"Title","description":"Note title."},"content":{"type":"string","title":"Content","description":"Note content."}},"type":"object","required":["title","content"],"title":"NoteCreate"},"NoteOut":{"properties":{"title":{"type":"string","maxLength":200,"title":"Title","description":"Note title."},"content":{"type":"string","title":"Content","description":"Note content."},"id":{"type":"integer","title":"Id","description":"Note ID."},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp."},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp."}},"type":"object","required":["title","content","id","created_at","updated_at"],"title":"NoteOut"},"NoteUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Title","description":"Updated note title."},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Updated note content."}},"type":"object","title":"NoteUpdate"},"RefreshRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token","description":"Refresh JWT token."}},"type":"object","required":["refresh_token"],"title":"RefreshRequest"},"SignupRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"User email address."},"password":{"type":"string","minLength":8,"title":"Password","description":"User password (min 8 chars)."}},"type":"object","required":["email","password"],"title":"SignupRequest"},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token","description":"Short-lived JWT access token."},"refresh_token":{"type":"string","title":"Refresh Token","description":"Longer-lived JWT refresh token."},"token_type":{"type":"string","title":"Token Type","description":"Token type.","default":"bearer"}},"type":"object","required":["access_token","refresh_token"],"title":"TokenResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/auth/login"}}}}},"tags":[{"name":"health","description":"Service health checks."},{"name":"auth","description":"Authentication endpoints (signup/login/refresh)."},{"name":"notes","description":"CRUD and search endpoints for user notes."}]}